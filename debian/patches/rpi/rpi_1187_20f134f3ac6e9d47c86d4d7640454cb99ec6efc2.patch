commit 20f134f3ac6e9d47c86d4d7640454cb99ec6efc2
Author: Phil Elwell <phil@raspberrypi.org>
Date:   Mon May 8 16:30:18 2017 +0100

    ARM: dts: bcm283x: Reserve first page for firmware
    
    The Raspberry Pi startup stub files for multi-core BCM27XX processors
    make the secondary CPUs spin until the corresponding mailbox is
    written. These stubs are loaded at physical address 0x00000xxx (as seen
    by the ARMs), but this page will be reused by the kernel unless it is
    explicitly reserved, causing the waiting cores to execute random code.
    
    Use the /memreserve/ Device Tree directive to mark the first page as
    off-limits to the kernel.
    
    See: https://github.com/raspberrypi/linux/issues/1989
    
    Signed-off-by: Phil Elwell <phil@raspberrypi.org>

diff --git a/arch/arm/boot/dts/bcm2710-rpi-3-b.dts b/arch/arm/boot/dts/bcm2710-rpi-3-b.dts
index 9f001bccb826..eb2d072c77d1 100644
--- a/arch/arm/boot/dts/bcm2710-rpi-3-b.dts
+++ b/arch/arm/boot/dts/bcm2710-rpi-3-b.dts
@@ -1,9 +1,5 @@
 /dts-v1/;
 
-#ifdef RPI364
-/memreserve/ 0x00000000 0x00001000;
-#endif
-
 #include "bcm2710.dtsi"
 #include "bcm283x-rpi-smsc9514.dtsi"
 
diff --git a/arch/arm/boot/dts/bcm283x.dtsi b/arch/arm/boot/dts/bcm283x.dtsi
index ca47b23ffbcd..4a13ada772da 100644
--- a/arch/arm/boot/dts/bcm283x.dtsi
+++ b/arch/arm/boot/dts/bcm283x.dtsi
@@ -3,6 +3,8 @@
 #include <dt-bindings/clock/bcm2835-aux.h>
 #include <dt-bindings/gpio/gpio.h>
 
+/memreserve/ 0x00000000 0x00001000;
+
 /* This include file covers the common peripherals and configuration between
  * bcm2835 and bcm2836 implementations, leaving the CPU configuration to
  * bcm2835.dtsi and bcm2836.dtsi.
diff -uN a/1.txt b/1.txt
--- a/dummy/rpi_1187_20f134f3ac6e9d47c86d4d7640454cb99ec6efc2.txt	1970-01-01 00:00:00.000000000 +0000
+++ b/dummy/rpi_1187_20f134f3ac6e9d47c86d4d7640454cb99ec6efc2.txt	2013-12-23 04:07:40.000000000 +0000
@@ -0,0 +1 @@
+dummy file to ensure patch has content.
