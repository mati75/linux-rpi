commit f65b249a7bf37f30cea64a4be631505b1379d501
Author: popcornmix <popcornmix@gmail.com>
Date:   Mon Sep 4 20:48:02 2017 +0100

    vcsm: Allow both clean and invalidate to be requested

diff --git a/drivers/char/broadcom/vc_sm/vmcs_sm.c b/drivers/char/broadcom/vc_sm/vmcs_sm.c
index 1dd5d227980a..1fe8608f462a 100644
--- a/drivers/char/broadcom/vc_sm/vmcs_sm.c
+++ b/drivers/char/broadcom/vc_sm/vmcs_sm.c
@@ -2861,7 +2861,8 @@ static long vc_sm_ioctl(struct file *file, unsigned int cmd, unsigned long arg)
 							v6_dma_clean_range((void *)base, (void *)end);
 #endif
 						/* L1/L2 cache invalidate */
-						} else if (op->invalidate_mode & 1) {
+						}
+						if (op->invalidate_mode & 1) {
 #if defined(CONFIG_CPU_CACHE_V7)
 							extern void v7_dma_inv_range(void *start, void *end);
 							v7_dma_inv_range((void *)base, (void *)end);
diff -uN a/1.txt b/1.txt
--- a/dummy/rpi_1662_f65b249a7bf37f30cea64a4be631505b1379d501.txt	1970-01-01 00:00:00.000000000 +0000
+++ b/dummy/rpi_1662_f65b249a7bf37f30cea64a4be631505b1379d501.txt	2013-12-23 04:07:40.000000000 +0000
@@ -0,0 +1 @@
+dummy file to ensure patch has content.
