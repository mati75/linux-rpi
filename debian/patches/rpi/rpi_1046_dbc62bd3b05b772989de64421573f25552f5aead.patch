commit dbc62bd3b05b772989de64421573f25552f5aead
Author: Stefan Wahren <stefan.wahren@i2se.com>
Date:   Sun Nov 11 13:01:11 2018 +0100

    hwmon: (raspberrypi) Fix initial notify
    
    [ Upstream commit 35fdc3902179366489a12cae4cb3ccc3b95f0afe ]
    
    In case an under-voltage happens before probing the driver wont
    write the critical warning into the kernel log. So don't init
    of last_throttled during probe and fix this issue.
    
    Fixes: 74d1e007915f ("hwmon: Add support for RPi voltage sensor")
    Reported-by: "Noralf Tr√∏nnes" <noralf@tronnes.org>
    Signed-off-by: Stefan Wahren <stefan.wahren@i2se.com>
    Signed-off-by: Guenter Roeck <linux@roeck-us.net>
    Signed-off-by: Sasha Levin <sashal@kernel.org>

diff --git a/drivers/hwmon/raspberrypi-hwmon.c b/drivers/hwmon/raspberrypi-hwmon.c
index be5ba4690895..0d0457245e7d 100644
--- a/drivers/hwmon/raspberrypi-hwmon.c
+++ b/drivers/hwmon/raspberrypi-hwmon.c
@@ -115,7 +115,6 @@ static int rpi_hwmon_probe(struct platform_device *pdev)
 {
 	struct device *dev = &pdev->dev;
 	struct rpi_hwmon_data *data;
-	int ret;
 
 	data = devm_kzalloc(dev, sizeof(*data), GFP_KERNEL);
 	if (!data)
@@ -124,11 +123,6 @@ static int rpi_hwmon_probe(struct platform_device *pdev)
 	/* Parent driver assure that firmware is correct */
 	data->fw = dev_get_drvdata(dev->parent);
 
-	/* Init throttled */
-	ret = rpi_firmware_property(data->fw, RPI_FIRMWARE_GET_THROTTLED,
-				    &data->last_throttled,
-				    sizeof(data->last_throttled));
-
 	data->hwmon_dev = devm_hwmon_device_register_with_info(dev, "rpi_volt",
 							       data,
 							       &rpi_chip_info,
diff -uN a/1.txt b/1.txt
--- a/dummy/rpi_1046_dbc62bd3b05b772989de64421573f25552f5aead.txt	1970-01-01 00:00:00.000000000 +0000
+++ b/dummy/rpi_1046_dbc62bd3b05b772989de64421573f25552f5aead.txt	2013-12-23 04:07:40.000000000 +0000
@@ -0,0 +1 @@
+dummy file to ensure patch has content.
