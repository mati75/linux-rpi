commit 3660137176ed7f04ffece7477f527de63e86b8ed
Author: Phil Elwell <phil@raspberrypi.org>
Date:   Tue Dec 12 12:12:46 2017 +0000

    staging: vchiq_arm: Make debugfs failure non-fatal
    
    It can be useful to be able to open multiple vchiq instances in a
    single process. This currently fails due to a debugfs collision,
    so make such a failure non-fatal.
    
    Signed-off-by: Phil Elwell <phil@raspberrypi.org>

diff --git a/drivers/staging/vc04_services/interface/vchiq_arm/vchiq_arm.c b/drivers/staging/vc04_services/interface/vchiq_arm/vchiq_arm.c
index 411539f8ff8c..949ff62be67f 100644
--- a/drivers/staging/vc04_services/interface/vchiq_arm/vchiq_arm.c
+++ b/drivers/staging/vc04_services/interface/vchiq_arm/vchiq_arm.c
@@ -1688,11 +1688,7 @@ vchiq_open(struct inode *inode, struct file *file)
 		instance->state = state;
 		instance->pid = current->tgid;
 
-		ret = vchiq_debugfs_add_instance(instance);
-		if (ret != 0) {
-			kfree(instance);
-			return ret;
-		}
+		(void)vchiq_debugfs_add_instance(instance);
 
 		sema_init(&instance->insert_event, 0);
 		sema_init(&instance->remove_event, 0);
diff -uN a/1.txt b/1.txt
--- a/dummy/rpi_1042_3660137176ed7f04ffece7477f527de63e86b8ed.txt	1970-01-01 00:00:00.000000000 +0000
+++ b/dummy/rpi_1042_3660137176ed7f04ffece7477f527de63e86b8ed.txt	2013-12-23 04:07:40.000000000 +0000
@@ -0,0 +1 @@
+dummy file to ensure patch has content.
