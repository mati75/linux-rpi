commit b2d64cf9eae79984e8f1f4694200953aa433d62a
Author: Phil Elwell <phil@raspberrypi.org>
Date:   Thu Feb 15 09:36:52 2018 +0000

    overlays: Allow multiple instances of gpio-ir[-tx]
    
    Signed-off-by: Phil Elwell <phil@raspberrypi.org>

diff --git a/arch/arm/boot/dts/overlays/gpio-ir-overlay.dts b/arch/arm/boot/dts/overlays/gpio-ir-overlay.dts
index af5baf7ddc92..bfa3cb5fd4dd 100644
--- a/arch/arm/boot/dts/overlays/gpio-ir-overlay.dts
+++ b/arch/arm/boot/dts/overlays/gpio-ir-overlay.dts
@@ -8,7 +8,7 @@
         fragment@0 {
                 target-path = "/";
                 __overlay__ {
-                        gpio_ir: ir-receiver {
+                        gpio_ir: ir-receiver@12 {
                                 compatible = "gpio-ir-receiver";
 
                                 // pin number, high or low
@@ -25,7 +25,7 @@
         fragment@1 {
                 target = <&gpio>;
                 __overlay__ {
-                        gpio_ir_pins: gpio_ir_pins {
+                        gpio_ir_pins: gpio_ir_pins@12 {
                                 brcm,pins = <18>;                       // pin 18
                                 brcm,function = <0>;                    // in
                                 brcm,pull = <1>;                        // down
@@ -35,8 +35,10 @@
 
         __overrides__ {
                 // parameters
-                gpio_pin =      <&gpio_ir>,"gpios:4",
-                                        <&gpio_ir_pins>,"brcm,pins:0";  // pin number
+                gpio_pin =      <&gpio_ir>,"gpios:4",           // pin number
+                                <&gpio_ir>,"reg:0",
+                                <&gpio_ir_pins>,"brcm,pins:0",
+                                <&gpio_ir_pins>,"reg:0";
                 gpio_pull = <&gpio_ir_pins>,"brcm,pull:0";              // pull-up/down state
 
                 rc-map-name = <&gpio_ir>,"linux,rc-map-name";           // default rc map
diff --git a/arch/arm/boot/dts/overlays/gpio-ir-tx-overlay.dts b/arch/arm/boot/dts/overlays/gpio-ir-tx-overlay.dts
index a2e271f0f202..e054ba319398 100644
--- a/arch/arm/boot/dts/overlays/gpio-ir-tx-overlay.dts
+++ b/arch/arm/boot/dts/overlays/gpio-ir-tx-overlay.dts
@@ -7,7 +7,7 @@
 	fragment@0 {
 		target = <&gpio>;
 		__overlay__ {
-			gpio_ir_tx_pins: gpio_ir_tx_pins {
+			gpio_ir_tx_pins: gpio_ir_tx_pins@12 {
 				brcm,pins = <18>;
 				brcm,function = <1>;	// out
 			};
@@ -17,7 +17,7 @@
 	fragment@1 {
 		target-path = "/";
 		__overlay__ {
-			gpio_ir_tx: gpio-ir-transmitter {
+			gpio_ir_tx: gpio-ir-transmitter@12 {
 				compatible = "gpio-ir-tx";
 				pinctrl-names = "default";
 				pinctrl-0 = <&gpio_ir_tx_pins>;
@@ -27,8 +27,10 @@
 	};
 
 	__overrides__ {
-		gpio_pin = <&gpio_ir_tx>, "gpios:4",
-			   <&gpio_ir_tx_pins>, "brcm,pins:0";	// pin number
+		gpio_pin = <&gpio_ir_tx>, "gpios:4",           	// pin number
+			   <&gpio_ir_tx>, "reg:0",
+			   <&gpio_ir_tx_pins>, "brcm,pins:0",
+			   <&gpio_ir_tx_pins>, "reg:0";
 		invert = <&gpio_ir_tx>, "gpios:8";		// 1 = active low
 	};
 };
diff -uN a/1.txt b/1.txt
--- a/dummy/rpi_1133_b2d64cf9eae79984e8f1f4694200953aa433d62a.txt	1970-01-01 00:00:00.000000000 +0000
+++ b/dummy/rpi_1133_b2d64cf9eae79984e8f1f4694200953aa433d62a.txt	2013-12-23 04:07:40.000000000 +0000
@@ -0,0 +1 @@
+dummy file to ensure patch has content.
