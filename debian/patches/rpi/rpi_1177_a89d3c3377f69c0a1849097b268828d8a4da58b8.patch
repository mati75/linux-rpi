commit a89d3c3377f69c0a1849097b268828d8a4da58b8
Author: Sugizaki Yukimasa <i.can.speak.c.and.basic@gmail.com>
Date:   Mon Jan 8 21:07:17 2018 +0900

    vcsm: Fix obscure conditions
    
    Signed-off-by: Sugizaki Yukimasa <i.can.speak.c.and.basic@gmail.com>

diff --git a/drivers/char/broadcom/vc_sm/vmcs_sm.c b/drivers/char/broadcom/vc_sm/vmcs_sm.c
index b6cdc1934ad2..95963ffba51a 100644
--- a/drivers/char/broadcom/vc_sm/vmcs_sm.c
+++ b/drivers/char/broadcom/vc_sm/vmcs_sm.c
@@ -278,8 +278,8 @@ static unsigned int vmcs_sm_vc_handle_from_pid_and_address(unsigned int pid,
 		list_for_each_entry(map, &sm_state->map_list, map_list) {
 			if (map->res_pid != pid)
 				continue;
-			if (!(map->res_addr <= addr &&
-						addr < map->res_addr + map->resource->res_size))
+			if (addr < map->res_addr ||
+						addr >= (map->res_addr + map->resource->res_size))
 				continue;
 
 			pr_debug("[%s]: global map %p (pid %u, addr %lx) -> vc-hdl %x (usr-hdl %x)\n",
@@ -1263,7 +1263,7 @@ static int clean_invalid_mem_2d(const void __user *addr,
 	size_t i;
 	void (*op_fn)(const void*, const void*);
 
-	if (block_size <= 0) {
+	if (!block_size) {
 		pr_err("[%s]: size cannot be 0\n", __func__);
 		return -EINVAL;
 	}
diff -uN a/1.txt b/1.txt
--- a/dummy/rpi_1177_a89d3c3377f69c0a1849097b268828d8a4da58b8.txt	1970-01-01 00:00:00.000000000 +0000
+++ b/dummy/rpi_1177_a89d3c3377f69c0a1849097b268828d8a4da58b8.txt	2013-12-23 04:07:40.000000000 +0000
@@ -0,0 +1 @@
+dummy file to ensure patch has content.
